<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>LibroVoz - Conversor de Texto a Audio</title>

  <link
    href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,300&family=Inter:wght@400;500;600&display=swap"
    rel="stylesheet">
    
  <!-- CSS M√çNIMO SOLO PARA PREVENIR SCROLL HORIZONTAL -->
  <style>
    /* RESET B√ÅSICO */
    * {
      box-sizing: border-box;
    }
    
    html, body {
      overflow-x: hidden;
      margin: 0;
      padding: 0;
    }
    
    #root {
      overflow-x: hidden;
      width: 100%;
      max-width: 100vw;
    }
  </style>
  
  <!-- CSS PARA FUNCIONALIDADES DEL LIBRO -->
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }

    .book-text {
      font-family: 'Merriweather', serif;
    }

    /* 3D Flip Animations - Efecto Flipbook Realista */
    .perspective-container {
      perspective: 2000px;
      perspective-origin: center center;
    }

    .flip-card {
      transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                  opacity 0.4s ease,
                  box-shadow 0.6s ease;
      transform-style: preserve-3d;
      backface-visibility: hidden;
      position: relative;
    }

    /* Animaci√≥n de p√°gina saliendo */
    .flip-out-left {
      transform: rotateY(-180deg) scale(0.9);
      opacity: 0;
      transform-origin: left center;
      box-shadow: -20px 0 40px rgba(0,0,0,0.3);
      z-index: 1;
    }

    .flip-out-right {
      transform: rotateY(-180deg) scale(0.9);
      opacity: 0;
      transform-origin: left center;
      box-shadow: -20px 0 40px rgba(0,0,0,0.3);
      z-index: 1;
    }

    /* Animaci√≥n de p√°gina entrando */
    .flip-in-right {
      animation: flipInFromRight 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      transform-origin: left center;
      z-index: 2;
    }

    .flip-in-left {
      animation: flipInFromRight 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      transform-origin: left center;
      z-index: 2;
    }

    @keyframes flipInFromRight {
      0% {
        transform: rotateY(180deg) scale(0.9);
        opacity: 0;
        box-shadow: 20px 0 40px rgba(0,0,0,0.4);
      }
      50% {
        transform: rotateY(90deg) scale(0.95);
        opacity: 0.7;
        box-shadow: 10px 0 30px rgba(0,0,0,0.3);
      }
      100% {
        transform: rotateY(0deg) scale(1);
        opacity: 1;
        box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      }
    }

    /* Hide Scrollbar for Flip Mode container */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>

<body>
  <div id="root"></div>
  

  
  <!-- SCRIPT SIMPLE PARA PREVENIR SCROLL HORIZONTAL -->
  <script>
    // Solo prevenir scroll horizontal
    document.addEventListener('DOMContentLoaded', function() {
      document.body.style.overflowX = 'hidden';
      document.documentElement.style.overflowX = 'hidden';
    });
  </script>
  
  <script type="module" src="/index.tsx"></script>
  
  <!-- DEBUG Y FUNCIONES DE AYUDA -->
  <script>
    // SCRIPT ESPEC√çFICO PARA SAMSUNG/ANDROID
    if (/android|samsung|sm-|galaxy/i.test(navigator.userAgent)) {
      console.log('üîç Android/Samsung detectado - Aplicando fix de visibilidad');
      
      // Funci√≥n para forzar visibilidad de controles
      const forceControlsVisibility = () => {
        const controles = document.getElementById('audio-controller-fixed') || 
                         document.querySelector('.controles-barra') ||
                         document.querySelector('[class*="from-orange-500"]');
        
        if (controles) {
          console.log('üéØ Forzando visibilidad de controles en Android');
          
          // Aplicar estilos de fuerza bruta
          controles.style.cssText = `
            position: fixed !important;
            bottom: 0px !important;
            left: 0px !important;
            right: 0px !important;
            width: 100vw !important;
            height: auto !important;
            min-height: 140px !important;
            background: linear-gradient(135deg, #f97316, #ea580c) !important;
            color: white !important;
            padding: 20px 16px !important;
            z-index: 999999 !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            box-sizing: border-box !important;
            font-family: system-ui, -apple-system, sans-serif !important;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.3) !important;
            visibility: visible !important;
            opacity: 1 !important;
            transform: translate3d(0, 0, 0) !important;
            -webkit-transform: translate3d(0, 0, 0) !important;
            will-change: transform !important;
            overflow: visible !important;
            -webkit-backface-visibility: hidden !important;
            backface-visibility: hidden !important;
          `;
          
          // Debug info
          console.log('üìä Debug controles Android:', {
            display: controles.style.display,
            visibility: controles.style.visibility,
            position: controles.style.position,
            zIndex: controles.style.zIndex,
            bottom: controles.style.bottom
          });
        } else {
          console.log('‚ùå Controles no encontrados en Android');
        }
      };
      
      // Ejecutar inmediatamente y cada 500ms
      document.addEventListener('DOMContentLoaded', forceControlsVisibility);
      setInterval(forceControlsVisibility, 500);
      
      // Tambi√©n ejecutar cuando se detecten cambios en el DOM
      const observer = new MutationObserver(forceControlsVisibility);
      observer.observe(document.body, {
        childList: true,
        subtree: true
      });
    }
    
    // FUNCIONES DE DEBUG - Ejecutar en consola
    window.findOffenders = () => {
      const all = document.querySelectorAll('*');
      const bad = [];
      
      all.forEach(el => {
        const rect = el.getBoundingClientRect();
        if (rect.right > window.innerWidth) {
          bad.push({
            element: el,
            tag: el.tagName,
            class: el.className,
            right: rect.right,
            width: rect.width
          });
        }
      });
      
      console.table(bad.sort((a, b) => b.right - a.right));
      return bad;
    };
    
    window.debugInfo = () => {
      console.log('Ancho ventana:', window.innerWidth);
      console.log('Ancho body:', document.body.scrollWidth);
      console.log('User Agent:', navigator.userAgent);
      
      const audio = document.querySelector('[class*="from-orange-500"]') || 
                   document.getElementById('audio-controller-fixed');
      if (audio) {
        const rect = audio.getBoundingClientRect();
        console.log('AudioController position:', {
          left: rect.left,
          right: rect.right,
          width: rect.width,
          bottom: rect.bottom
        });
      }
      
      return {
        windowWidth: window.innerWidth,
        bodyWidth: document.body.scrollWidth,
        audioController: audio ? 'encontrado' : 'no encontrado'
      };
    };
  </script>
</body>

</html>